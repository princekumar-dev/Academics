import{a,F as b,j as e}from"./index-42ca442f.js";import{r as s,u as x}from"./react-vendor-07fa9950.js";function w(){const[n,f]=s.useState({name:"",email:"",password:"",confirmPassword:"",role:"",department:"",year:"",section:"",phoneNumber:""}),[p,o]=s.useState(!1),[c,l]=s.useState(""),[d,g]=s.useState(""),h=x(),r=u=>{const{name:t,value:i}=u.target;f(m=>({...m,[t]:i})),c&&l(""),d&&g("")};return a(b,{children:[e("style",{children:`
        @keyframes waveButtonAnimation {
          0%, 100% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
        }
        .login-wave-button {
          background: linear-gradient(90deg, var(--theme-gold-600), var(--theme-gold-300), var(--theme-gold-600), var(--theme-gold-300));
          background-size: 300% 100%;
          animation: waveButtonAnimation 3s ease-in-out infinite;
          transition: all 0.3s ease;
        }
        .login-wave-button:hover { animation-duration: 1.5s; }
      `}),e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center px-4 py-8 smooth-scroll mobile-smoothest-scroll no-mobile-anim",style:{fontFamily:"Inter, sans-serif"},children:e("div",{className:"w-full max-w-md",children:a("div",{className:"glass-card no-mobile-backdrop p-8 rounded-3xl shadow-2xl",children:[a("div",{className:"text-center mb-8",children:[e("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-6",children:e("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e("h1",{className:"text-3xl sm:text-4xl font-black text-gray-900 mb-2",children:"Create Account"}),e("p",{className:"text-gray-600 text-lg",children:"Sign up for your MSEC Academics account"})]}),c&&e("div",{className:"mb-6",children:e("div",{className:"glass-card no-mobile-backdrop p-4 border-l-4 border-red-500 bg-red-50",children:e("p",{className:"text-red-700 text-sm font-medium",children:c})})}),d&&e("div",{className:"mb-6",children:e("div",{className:"glass-card no-mobile-backdrop p-4 border-l-4 border-green-500 bg-green-50",children:e("p",{className:"text-green-700 text-sm font-medium",children:d})})}),a("form",{onSubmit:async u=>{if(u.preventDefault(),o(!0),l(""),!n.name||!n.email||!n.password||!n.confirmPassword||!n.role||!n.department){l("Please fill in all required fields"),o(!1);return}if(n.role==="staff"&&(!n.year||!n.section)){l("Please select year and section for staff role"),o(!1);return}if(n.password!==n.confirmPassword){l("Passwords do not match"),o(!1);return}try{const t={name:n.name,email:n.email,password:n.password,role:n.role,department:n.department,phoneNumber:n.phoneNumber};n.role==="staff"&&(t.year=n.year,t.section=n.section);const i=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),m=await i.json().catch(()=>({}));if(!i.ok){l(m.error||"Failed to create account");return}g("Account created. Redirecting to sign in..."),setTimeout(()=>h("/login"),900)}catch(t){console.error("Sign up error:",t),l("An error occurred while creating account. Please try again.")}finally{o(!1)}},className:"space-y-6",children:[a("div",{children:[e("label",{className:"block text-sm font-bold text-gray-900 mb-3",children:"Full Name"}),e("input",{name:"name",value:n.name,onChange:r,className:"glass-input w-full px-4 py-4 border-0 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-200 text-gray-900 placeholder:text-gray-500",placeholder:"Dr. John Doe",required:!0})]}),a("div",{children:[e("label",{className:"block text-sm font-bold text-gray-900 mb-3",children:"Email Address"}),e("input",{type:"email",name:"email",value:n.email,onChange:r,className:"glass-input w-full px-4 py-4 border-0 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-200 text-gray-900 placeholder:text-gray-500",placeholder:"john.doe@msec.edu.in",required:!0})]}),a("div",{children:[e("label",{className:"block text-sm font-bold text-gray-900 mb-3",children:"Role"}),a("select",{name:"role",value:n.role,onChange:r,className:"glass-input w-full px-4 py-4 border-0 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-200 text-gray-900",required:!0,children:[e("option",{value:"",children:"Select Role"}),e("option",{value:"staff",children:"Staff"}),e("option",{value:"hod",children:"HOD"})]})]}),a("div",{children:[e("label",{className:"block text-sm font-bold text-gray-900 mb-3",children:"Department"}),a("select",{name:"department",value:n.department,onChange:r,className:"glass-input w-full px-4 py-4 border-0 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-200 text-gray-900",required:!0,children:[e("option",{value:"",children:"Select Department"}),e("option",{value:"CSE",children:"Computer Science & Engineering"}),e("option",{value:"AI_DS",children:"Artificial Intelligence & Datascience"}),e("option",{value:"ECE",children:"Electronics & Communication Engineering"}),e("option",{value:"MECH",children:"Mechanical Engineering"}),e("option",{value:"CIVIL",children:"Civil Engineering"}),e("option",{value:"EEE",children:"Electrical & Electronics Engineering"})]})]}),n.role==="staff"&&a("div",{className:"grid grid-cols-2 gap-4",children:[a("div",{children:[e("label",{className:"block text-sm font-bold text-gray-900 mb-3",children:"Year"}),a("select",{name:"year",value:n.year||"",onChange:r,className:"glass-input w-full px-4 py-4 border-0 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-200 text-gray-900",required:!0,children:[e("option",{value:"",children:"Select Year"}),e("option",{value:"I",children:"I"}),e("option",{value:"II",children:"II"}),e("option",{value:"III",children:"III"}),e("option",{value:"IV",children:"IV"})]})]}),a("div",{children:[e("label",{className:"block text-sm font-bold text-gray-900 mb-3",children:"Section"}),a("select",{name:"section",value:n.section||"",onChange:r,className:"glass-input w-full px-4 py-4 border-0 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-200 text-gray-900",required:!0,children:[e("option",{value:"",children:"Select Section"}),e("option",{value:"A",children:"A"}),e("option",{value:"B",children:"B"})]})]})]}),a("div",{children:[e("label",{className:"block text-sm font-bold text-gray-900 mb-3",children:"Phone Number"}),e("input",{type:"tel",name:"phoneNumber",value:n.phoneNumber,onChange:r,className:"glass-input w-full px-4 py-4 border-0 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-200 text-gray-900 placeholder:text-gray-500",placeholder:"+91-9876543210"})]}),a("div",{children:[e("label",{className:"block text-sm font-bold text-gray-900 mb-3",children:"Password"}),e("input",{type:"password",name:"password",value:n.password,onChange:r,className:"glass-input w-full px-4 py-4 border-0 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-200 text-gray-900 placeholder:text-gray-500",placeholder:"Create a password",required:!0})]}),a("div",{children:[e("label",{className:"block text-sm font-bold text-gray-900 mb-3",children:"Confirm Password"}),e("input",{type:"password",name:"confirmPassword",value:n.confirmPassword,onChange:r,className:"glass-input w-full px-4 py-4 border-0 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-200 text-gray-900 placeholder:text-gray-500",placeholder:"Repeat password",required:!0})]}),e("div",{className:"pt-4",children:e("button",{type:"submit",disabled:p,className:"glass-button w-full py-4 px-6 text-blue-600 text-lg font-bold rounded-2xl transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:e("span",{className:"truncate",children:p?"Creating account...":"Create Account"})})})]}),e("div",{className:"mt-8 text-center",children:a("p",{className:"text-gray-600 text-sm",children:["Already have an account? ",e("span",{className:"text-blue-600 font-semibold cursor-pointer hover:underline ml-1",onClick:()=>h("/login"),children:"Sign in"})]})})]})})})]})}export{w as default};
